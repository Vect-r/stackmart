{%if msg.sender != current_user%}
<div class="flex items-end gap-2 max-w-[85%] md:max-w-[70%] relative z-10 animate-fade-in">
    <img src="https://ui-avatars.com/api/?name={{ current_user.username }}&background=7928ca&color=fff" class="w-6 h-6 rounded-full mb-1 border border-white dark:border-transparent shadow-sm">
    <div class="bg-white dark:bg-black/60 dark:backdrop-blur-md border border-gray-200 dark:border-white/10 p-3 rounded-2xl rounded-bl-none shadow-sm">
        <p class="text-sm text-gray-800 dark:text-gray-200">{{msg.body}}</p>
        <span class="text-[10px] text-gray-400 block text-right mt-1 font-mono">{{msg.created_at|date:"h:i a"}}</span>
    </div>
</div>
{%else%}
<div class="flex flex-col items-end gap-1 max-w-[85%] md:max-w-[70%] ml-auto relative z-10 animate-fade-in">
    <div class="bg-gradient-to-br from-brand-purple to-brand-cyan p-3 rounded-2xl rounded-br-none shadow-md shadow-brand-purple/20 text-white">
        <p class="text-sm font-medium">{{msg.body}}</p>
        <div class="flex items-center justify-end gap-1 mt-1">
            <span class="text-[10px] text-white/70 font-mono">{{msg.created_at|date:"h:i a"}}</span>
            <i class="fa-solid fa-check-double text-[10px] text-white/90"></i>
        </div>
    </div>
</div>
{%endif%}